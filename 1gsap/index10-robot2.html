<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{margin: 0; padding: 0;}
        .main{height: 100vh; position: relative;}
        .imgs{
            position: relative;
            width: 520px; height: 607px; margin: 5vh auto 0;}
        .imgs>img{position: absolute; left: 0; right: 0; top: 0; bottom: 0;}

        .square{position: absolute; top: 100px; left: 200px; background-color: #666; width: 100px; height: 300px;}
        
    </style>
</head>
<body>
    <div class="top" style="height:100vh; background-color: gray;"></div>
    <div class="main">
        <div class="imgs">
            <img src="./robot/left_arm.png" alt="왼팔" class="왼팔">
            <img src="./robot/right_arm.png" alt="오른팔" class="오른팔">
            <img src="./robot/right_leg.png" alt="오른쪽다리" class="오른쪽다리">
            <img src="./robot/left_leg.png" alt="왼쪽다리" class="왼쪽다리">
            <img src="./robot/head.png" alt="머리" class="머리">
            <img src="./robot/neck.png" alt="목" class="목">
            <img src="./robot/top.png" alt="상체" class="상체">
            <img src="./robot/bottom.png" alt="하체" class="하체">
            <img src="./robot/middle.png" alt="허리" class="허리">
        </div>

        <div class="square">사각형</div>
    </div>
    <div class="bottom" style="height:100vh; background-color: gray;"></div>
     
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
        <script>
            gsap.registerPlugin(ScrollTrigger);
            // let Value = document.querySelector('.square').offsetWidth : 영역의 너비를 console 출력(100)
            let Value = document.querySelector('.square').offsetHeight // : 영역의 높이를 console 출력(300)
            console.log(Value)

            let num=3;
            num += 4; // num = num + 4 

            let tl=gsap.timeline({
               scrollTrigger:{
                trigger:".square",
                start:"top 60%",
                end:()=>`+=${document.querySelector('.square').offsetHeight}`, // : start 지점에서 .square의 높이(300)만큼 스크롤이 이동되면 애니메이션이 끝난다.
                end:()=>`+=80%`, // : %의 기준은 화면이다. = 80vh
                markers:true,
                scrub:true, // : duration과 상관없이 속도가 스크롤에 반응한다.


               } 
            });
            tl.from('.상체',{
                duration:1, 
                x:100,y:-100, 
                opacity:0,
                ease: "back.out(0.8)"})
            tl.from('.허리',{
                duration:1, 
                y:150, 
                opacity:0,
                ease: "back.out(0.8)"
            },"-=0.5")
            tl.from('.하체',{
                duration:1, 
                y:150, 
                opacity:0,
                ease: "back.out(0.8)"
            },"-=0.5")
            tl.from('.머리',{
                duration:0.7, 
                y:-50, 
                opacity:0,
                ease: "back.out(0.8)"
            },"<")
            tl.add('test')
            tl.from('.왼팔',{
                duration:1, 
                y:-50, 
                x:-50,
                opacity:0,
                ease: "back.out(0.8)"
            },"-=0.7")
            tl.from('.오른팔',{
                duration:1, 
                y:50, 
                x:50,
                opacity:0,
                ease: "back.out(0.8)"
            },"-=0.9")
            tl.from('.오른쪽다리',{
                duration:1, 
                y:50, 
                x:50, 
                opacity:0,
                ease: "back.out(0.8)"
            },"-=0.7")
            tl.from('.왼쪽다리',{
                duration:1, 
                y:50, 
                x:-50,  
                opacity:0,
                ease: "back.out(0.8)"
            },"-=0.9")
            
            
         




       </script>
</body>
</html>